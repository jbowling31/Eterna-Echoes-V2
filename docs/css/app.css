/* =========================================================
   ETERNA ECHOES — app.css (cleaned single-source version)
   ========================================================= */

/* -------------------------
   1) THEME TOKENS
------------------------- */
:root{
  --bg:#070a14;
  --bg2:#050713;
  --panel:#0b1020;
  --panel2:#101a2b;

  --text:#e9eeff;
  --muted:#9db0ff;

  --line:rgba(255,255,255,.08);
  --line2:rgba(255,255,255,.12);

  --gold:#f6d26a;
  --good:#7dffb1;
  --bad:#ff7d7d;
  --info:#7aa2ff;

  --fire:#ff7b6e;
  --water:#7cb9e8;
  --earth:#9ad48b;
  --wind:#b9a7ff;

  --shadow: 0 22px 70px rgba(0,0,0,.45);
  --shadow2: 0 10px 30px rgba(0,0,0,.35);

  --r16:16px;
  --r14:14px;
  --r12:12px;

  --pad:14px;
  --tap:44px;

  --titleFont: "Cinzel", ui-serif, Georgia, serif;
  --bodyFont: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* -------------------------
   2) BASE / RESET
------------------------- */
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  font-family: var(--bodyFont);
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, rgba(122,162,255,.20), transparent 60%),
    radial-gradient(900px 650px at 110% 0%, rgba(246,210,106,.12), transparent 55%),
    radial-gradient(700px 500px at 30% 110%, rgba(185,167,255,.12), transparent 55%),
    linear-gradient(180deg, var(--bg2), var(--bg));
  overflow: hidden; /* ONLY #main scrolls */
}
a{ color:inherit; }

button{
  font:inherit;
  color:inherit;
  -webkit-tap-highlight-color: transparent;
}
button:focus-visible{
  outline: 2px solid rgba(122,162,255,.55);
  outline-offset: 2px;
}

/* -------------------------
   3) FIXED BACKGROUND + FX
------------------------- */
#bgLayer{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background: #070a14;
  background-image: url("../assets/bg/bg_home.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

#fxMotes{
  position: fixed;
  inset: 0;
  z-index: 5;
  pointer-events: none;
  opacity:.40;
  mix-blend-mode: screen;
}

/* ambient overlay */
body:before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(900px 520px at 50% -10%, rgba(199,210,255,.12), transparent 60%),
    radial-gradient(700px 420px at 10% 20%, rgba(122,162,255,.08), transparent 60%),
    radial-gradient(700px 420px at 90% 30%, rgba(246,210,106,.07), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.55));
  mix-blend-mode: screen;
  opacity:.55;
  z-index: 1;
}

/* -------------------------
   4) APP LAYOUT / SCROLL
------------------------- */
#app{
  position: relative;
  z-index: 10;
  height: 100vh;
  min-height: 100vh;
  display:flex;
  flex-direction:column;
}

#main{
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding: 14px;
  padding-bottom: 88px; /* space for bottom nav */
}

/* -------------------------
   5) TOPBAR / HEADER
------------------------- */
.topbar{
  padding:12px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom:1px solid var(--line);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
}

.brandTitle, .h2, .modalTitle{
  font-family: var(--titleFont);
  letter-spacing: .35px;
}

.brandTitle{ font-weight:800; }
.brandSub{ font-size:12px; color:rgba(233,238,255,.65); margin-top:2px; }
.topStats{ font-size:12px; color:var(--muted); text-align:right; white-space:nowrap; }
.topStats b{ color:var(--text); }
.topStatBtn{ background:none; border:0; padding:0; cursor:pointer; }

/* -------------------------
   6) COMMON UI PRIMITIVES
------------------------- */
.row{ display:flex; gap:10px; align-items:center; }
.row.wrap{ flex-wrap:wrap; }
.spread{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.h2{ font-weight:800; font-size:18px; }
.muted{ color:rgba(233,238,255,0.78); font-size:12px; }

.grid{
  display:grid;
  gap:10px;
  grid-template-columns: repeat(2, minmax(0,1fr));
}
@media (min-width:740px){
  .grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* -------------------------
   7) CARDS
------------------------- */
.card{
  background: rgba(7,10,20,0.62);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 18px;
  padding: 12px;
  margin: 10px 0;
  box-shadow: 0 14px 34px rgba(0,0,0,0.35);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.card:active{ transform: scale(.99); }
.card.sectionTitle{
  background: rgba(7,10,20,0.62);
  border-color: rgba(122,162,255,.18);
}

/* -------------------------
   8) PILLS / BADGES
------------------------- */
.pill{
  font-size:12px;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid var(--line2);
  background: rgba(255,255,255,.04);
}
.pill.gold{ border-color: rgba(246,210,106,.35); background: rgba(246,210,106,.08); color: var(--gold); }
.pill.fire { border-color: rgba(255,123,110,.35); background: rgba(255,123,110,.10); color:#ffe7e4; }
.pill.water{ border-color: rgba(124,185,232,.35); background: rgba(124,185,232,.10); color:#e8f5ff; }
.pill.earth{ border-color: rgba(154,212,139,.35); background: rgba(154,212,139,.10); color:#eaffea; }
.pill.wind { border-color: rgba(185,167,255,.35); background: rgba(185,167,255,.10); color:#f0ebff; }

.badgeWrap{ position:relative; }
.badgeDot{
  position:absolute;
  top:6px; right:8px;
  width:9px; height:9px;
  border-radius:999px;
  background:#ff3b30;
  box-shadow: 0 0 0 2px rgba(0,0,0,.35);
  display:none;
}
.badgeWrap.hasBadge .badgeDot{ display:block; }

/* -------------------------
   9) BUTTONS (in-screen)
------------------------- */
.btn{
  min-height: var(--tap);
  padding:10px 10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.20);
  background: rgba(7,10,20,0.70);
  box-shadow: 0 10px 24px rgba(0,0,0,0.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  font-weight: 750;
  letter-spacing: .2px;
  transition: transform .12s ease, filter .12s ease, background .12s ease, border-color .12s ease;
}
.btn:active{
  transform: translateY(1px) scale(.99);
  filter: brightness(1.05);
}
.btn.primary{
  background: rgba(125,255,177,0.16);
  border-color: rgba(125,255,177,0.55);
  color: rgba(233,238,255,0.95);
  text-shadow: 0 1px 0 rgba(0,0,0,0.55);
  box-shadow:
    0 0 0 1px rgba(125,255,177,0.14) inset,
    0 12px 30px rgba(0,0,0,0.28);
}
.btn.danger{
  background: rgba(255,125,125,.07);
  border-color: rgba(255,125,125,.38);
  color: var(--bad);
}
.btn.small{ padding:7px 9px; border-radius:12px; font-size:12px; }

/* -------------------------
   10) BOTTOM NAV
------------------------- */
#bottomNav{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
}
.bottomNav{
  display:flex;
  gap:8px;
  padding:10px 10px calc(10px + env(safe-area-inset-bottom));
  border-top:1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(7,10,20,.88), rgba(7,10,20,.96));
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.tabBtn{
  flex:1;
  min-height: var(--tap);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:3px;
  padding:10px 8px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  transition: transform .06s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
}
.tabBtn:active{ transform: translateY(1px) scale(.99); }
.tabBtn .ico{ font-size:14px; line-height:14px; opacity:.9; }
.tabBtn .lbl{ font-size:11px; letter-spacing:.2px; opacity:.9; }

.tabBtn.active{
  background: rgba(246,210,106,.08);
  border-color: rgba(246,210,106,.55);
  box-shadow: 0 0 0 1px rgba(246,210,106,.14) inset, 0 10px 30px rgba(0,0,0,.18);
  color: var(--gold);
}

/* -------------------------
   11) MODALS (single source of truth)
------------------------- */
#modalHost{
  position: fixed;
  inset: 0;
  z-index: 2000;
  display: none;
  pointer-events: none;
}
#modalHost.on{
  display:block;
  pointer-events:auto;
}
#modalHost .modalBackdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.55);
}
#modalHost .modalCard{
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  width: min(720px, calc(100% - 24px));
  max-height: 82vh;
  overflow:auto;
  -webkit-overflow-scrolling: touch;

  background:
    radial-gradient(700px 400px at 0% 0%, rgba(122,162,255,.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)),
    var(--panel);
  border:1px solid rgba(255,255,255,.10);
  border-radius: 18px;
  padding: 12px;
  box-shadow: var(--shadow);
  animation: modalIn .14s ease-out both;
}
@keyframes modalIn{
  from{ transform: translate(-50%,-48%) scale(.98); opacity:0; }
  to{ transform: translate(-50%,-50%) scale(1); opacity:1; }
}
.modalHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:8px;
  padding-bottom:8px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.modalTitle{ font-weight:900; font-size:14px; }
.xBtn{
  min-height:36px;
  min-width:36px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  border-radius:12px;
  padding:6px 9px;
}

/* -------------------------
   12) TOASTS
------------------------- */
.toastHost{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:80px;
  display:flex;
  flex-direction:column;
  gap:8px;
  width:min(520px, calc(100% - 24px));
  pointer-events:none;
  z-index: 3000;
}
.toast{
  pointer-events:none;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(11,16,32,.92);
  color:var(--text);
}
.toast.good{ border-color:rgba(125,255,177,.35); }
.toast.bad{ border-color:rgba(255,125,125,.35); }

/* -------------------------
   13) PROGRESS / XP BAR
------------------------- */
.xpWrap{ margin-top:10px; }
.xpBar{
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
}
.xpFill{
  height:100%;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(122,162,255,.9), rgba(246,210,106,.9));
}
.xpText{ font-size:12px; margin-top:6px; }

/* -------------------------
   14) CALENDAR
------------------------- */
.calGrid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:10px;
  margin-top:12px;
}
.calCell{
  position:relative;
  padding:10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  min-height:76px;
}
.calCell.today{
  border-color: rgba(246,210,106,.55);
  box-shadow: 0 0 0 1px rgba(246,210,106,.14) inset;
}
.calCell.claimed{
  background: rgba(125,255,177,.06);
  border-color: rgba(125,255,177,.22);
  opacity: .95;
}
.calCell.future{ opacity:.85; }
.calDay{ font-size:12px; opacity:.9; }
.calReward{ font-size:11px; color: rgba(233,238,255,.70); margin-top:6px; }
.calMark{ position:absolute; top:8px; right:10px; font-weight:800; }
@media (max-width:420px){
  .calGrid{ grid-template-columns: repeat(3, 1fr); }
}

/* -------------------------
   15) HERO GRID + TILE STYLE
------------------------- */
.heroGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:10px;
}
@media (min-width: 560px){
  .heroGrid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* tile base */
.heroTile{
  position:relative;
  padding:12px;
  border-radius: 18px;
  border: 2px solid rgba(255,255,255,0.14);
  background: rgba(7,10,20,0.62);
  box-shadow: rgba(0,0,0,0.35) 0px 14px 34px 0px;
  cursor:pointer;
  user-select:none;
}
.heroTile:active{
  transform: translateY(1px);
  filter: brightness(1.05);
}

/* layout pieces */
.heroTileTop{ display:flex; gap:10px; align-items:center; }
.heroAvatarTile{ width:54px; height:54px; border-radius:16px; }
.heroTileBadges{ flex:1; }
.heroTileName{ margin-top:10px; font-weight:850; font-size:14px; line-height:1.15; }
.heroTileBar{ height:7px; }

/* locked overlay */
.heroLocked{ position:relative; overflow:hidden; }
.heroLocked > *{ opacity:0.45; filter:saturate(0.75) blur(0.2px); }
.heroLocked::after{
  content:"LOCKED";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 900;
  letter-spacing: 0.18em;
  font-size: 12px;
  color: rgba(246,210,106,0.95);
  background: rgba(7,10,20,0.62);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(246,210,106,0.22);
  pointer-events:none;
}

/* border glow by element */
.heroTile.fire, .heroTile.fireGlow{
  border-color: rgba(255,120,120,0.55);
  box-shadow:
    rgba(0,0,0,0.35) 0px 14px 34px 0px,
    0 0 0 1px rgba(255,120,120,0.30) inset,
    0 0 18px rgba(255,120,120,0.28);
}
.heroTile.water, .heroTile.waterGlow{
  border-color: rgba(120,190,255,0.55);
  box-shadow:
    rgba(0,0,0,0.35) 0px 14px 34px 0px,
    0 0 0 1px rgba(120,190,255,0.30) inset,
    0 0 18px rgba(120,190,255,0.26);
}
.heroTile.earth, .heroTile.earthGlow{
  border-color: rgba(140,255,180,0.50);
  box-shadow:
    rgba(0,0,0,0.35) 0px 14px 34px 0px,
    0 0 0 1px rgba(140,255,180,0.24) inset,
    0 0 16px rgba(140,255,180,0.22);
}
.heroTile.wind, .heroTile.windGlow{
  border-color: rgba(210,170,255,0.55);
  box-shadow:
    rgba(0,0,0,0.35) 0px 14px 34px 0px,
    0 0 0 1px rgba(210,170,255,0.30) inset,
    0 0 18px rgba(210,170,255,0.26);
}

/* locked tone-down */
.heroTile.heroLocked{
  border-color: rgba(255,255,255,0.10) !important;
  box-shadow: rgba(0,0,0,0.22) 0px 14px 34px 0px !important;
}

/* -------------------------
   16) HOME ICON DOCK (single source of truth)
------------------------- */
.homeIconDock{
  position: fixed;
  left: 14px;
  top: 210px;
  z-index: 40;

  display:flex;
  flex-direction: column;
  flex-wrap: nowrap;
  align-items: center;
  gap: 10px;
}
.homeIconDock > *{ position: static; float:none; }

/* icon-only buttons */
#main .hubIconBtn{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 0 !important;
  width: auto !important;
  height: auto !important;
  cursor: pointer;
  touch-action: manipulation;
  display: inline-grid;
  place-items: center;
  --glow: rgba(246,210,106,0.35);
}
#main .hubIconBtn svg{
  width: 40px;
  height: 40px;
  color: rgba(233,238,255,0.92);
  filter:
    drop-shadow(0 0 10px var(--glow))
    drop-shadow(0 0 22px var(--glow));
}
#main .hubIconBtn:active svg{
  transform: translateY(1px);
  filter:
    drop-shadow(0 0 12px var(--glow))
    drop-shadow(0 0 28px var(--glow));
}
#main .hubIconBtn:focus-visible{
  outline: 2px solid rgba(246,210,106,0.55);
  outline-offset: 6px;
  border-radius: 12px;
}

#main .hubIconBtn--login{ --glow: rgba(246,210,106,0.45); }
#main .hubIconBtn--tasks{ --glow: rgba(255,200,140,0.40); }
#main .hubIconBtn--pass { --glow: rgba(170,170,255,0.40); }
/* Stronger icon shadow + glow (Home dock icons) */
#main .homeIconDock .hubIconBtn svg{
  filter:
    drop-shadow(0 6px 10px rgba(0,0,0,0.55))   /* real depth shadow */
    drop-shadow(0 2px 4px rgba(0,0,0,0.35))
    drop-shadow(0 0 12px var(--glow))          /* glow */
    drop-shadow(0 0 26px var(--glow));         /* outer glow */
}

/* Press feedback */
#main .homeIconDock .hubIconBtn:active svg{
  transform: translateY(1px);
  filter:
    drop-shadow(0 8px 14px rgba(0,0,0,0.60))
    drop-shadow(0 3px 6px rgba(0,0,0,0.40))
    drop-shadow(0 0 14px var(--glow))
    drop-shadow(0 0 30px var(--glow));
}
/* ===== Modal background blur (scrim) ===== */

/* New modal system */
#modalHost.on .modalBackdrop{
  background: rgba(0,0,0,0.45);           /* dim */
  backdrop-filter: blur(14px) saturate(1.05);
  -webkit-backdrop-filter: blur(14px) saturate(1.05);
}

/* Older modal system fallback (if anything still uses .modalHost) */
.modalHost.on{
  background: rgba(0,0,0,0.45) !important;
  backdrop-filter: blur(14px) saturate(1.05) !important;
  -webkit-backdrop-filter: blur(14px) saturate(1.05) !important;
}
/* --- Team Builder roster scroll (modal or overlay) --- */

/* If Team Builder opens in a modal, make the modal body scroll correctly */
#modalHost.on .modalCard{
  display:flex;
  flex-direction:column;
  overflow:hidden; /* header stays put */
}

/* If your modal markup has a .modalBody wrapper, this enables scrolling */
#modalHost.on .modalCard .modalBody{
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Make ANY hero grid inside the open modal scroll (this is the common culprit) */
#modalHost.on .modalCard .heroGrid{
  max-height: 62vh;
  overflow-y: auto;
  padding-right: 6px;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}
/* --- Fix: allow scrolling in Team Builder (and any long screen) --- */
#main{
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;

  /* IMPORTANT in flex layouts: lets the child actually scroll */
  min-height: 0 !important;
}
#app{
  height: 100vh;
  display: flex;
  flex-direction: column;
}

#bottomNav{
  flex: 0 0 auto;
}

#main{
  flex: 1 1 auto;
}
/* === MODAL: make body scroll (Team Builder fix) === */
#modalHost.on{
  display: flex !important;
  align-items: center;
  justify-content: center;
  padding: 16px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

#modalHost .modal{
  width: min(720px, calc(100% - 24px));
  max-height: calc(100vh - 40px);
  display: flex;
  flex-direction: column;
}

#modalHost .modalBody{
  flex: 1 1 auto;
  min-height: 0;                 /* THIS is the magic for scrolling in flex */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
:root{
  --gold-1: rgba(255, 214, 102, 1);   /* bright gold */
  --gold-2: rgba(255, 183, 60, 1);    /* warm gold */
  --gold-glow: rgba(255, 200, 90, .55);
  --gold-glow-soft: rgba(255, 200, 90, .22);
}

.dockBtn{
  width: 52px; height: 52px;
  display:flex; align-items:center; justify-content:center;
  border-radius: 16px;
  background: rgba(12, 18, 40, .55);
  border: 1px solid rgba(255, 200, 90, .18);
  box-shadow:
    0 10px 22px rgba(0,0,0,.35),
    0 0 0 1px rgba(255, 200, 90, .06) inset;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}

.dockIcon{
  width: 24px; height: 24px;
  fill: none;
  stroke: rgba(255, 246, 220, .95); /* warm “near white” */
  stroke-width: 1.8;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter:
    drop-shadow(0 0 6px rgba(255, 200, 90, .35))
    drop-shadow(0 0 14px rgba(255, 200, 90, .18));
}

.dockBtn:hover{
  transform: translateY(-1px) scale(1.02);
  border-color: rgba(255, 200, 90, .30);
}

.dockBtn:active{ transform: translateY(0) scale(.99); }

/* Active / selected state */
.dockBtn.isActive{
  border-color: rgba(255, 200, 90, .55);
  box-shadow:
    0 12px 26px rgba(0,0,0,.42),
    0 0 18px rgba(255, 200, 90, .18),
    0 0 0 1px rgba(255, 200, 90, .10) inset;
}

.dockBtn.isActive .dockIcon{
  stroke: rgba(255, 240, 200, 1);
  filter:
    drop-shadow(0 0 8px rgba(255, 200, 90, .55))
    drop-shadow(0 0 18px rgba(255, 200, 90, .28));
}
#btnDockPass .dockIcon{
  stroke-width: 2.0;
  filter: drop-shadow(0 0 10px rgba(255,200,90,.65)) drop-shadow(0 0 22px rgba(255,200,90,.28));
}
/* =========================================================
   PORTRAIT TILES — single source of truth (MATCH 4:5)
   ========================================================= */

/* Make grid not stretch items */
.heroGrid{
  align-items: start;
}

/* ---------- ROSTER tiles (heroGrid) ---------- */
/* Targets your actual tile markup: <div class="card heroTile heroTilePortrait ..."> */
.heroGrid > .card.heroTile.heroTilePortrait{
  position: relative;
  overflow: hidden;

  /* override .card + .heroTile spacing that breaks ratios */
  padding: 0 !important;
  margin: 0 !important;
  height: auto;

  aspect-ratio: 4 / 5;          /* MATCH your generated portraits */
  border-radius: 18px;
}

/* layers fill the tile */
.heroGrid > .card.heroTile.heroTilePortrait > .heroTileArt,
.heroGrid > .card.heroTile.heroTilePortrait > .heroTileShade,
.heroGrid > .card.heroTile.heroTilePortrait > .heroTileContent{
  position: absolute;
  inset: 0;
}

.heroGrid > .card.heroTile.heroTilePortrait > .heroTileArt img{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;            /* since ratio matches, no cropping */
  object-position: center;
}

/* shade overlay */
.heroGrid > .card.heroTile.heroTilePortrait > .heroTileShade{
  background:
    radial-gradient(120% 90% at 30% 10%, rgba(255,255,255,.08), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.10) 0%, rgba(0,0,0,.55) 60%, rgba(0,0,0,.82) 100%);
}

/* content overlay */
.heroGrid > .card.heroTile.heroTilePortrait > .heroTileContent{
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 12px;
}

.heroGrid > .card.heroTile.heroTilePortrait .heroTileName{
  font-weight: 800;
  text-shadow: 0 10px 22px rgba(0,0,0,.9);
}

/* locked look */
.heroGrid > .card.heroTile.heroTilePortrait.heroLocked .heroTileArt img{
  filter: grayscale(.35) saturate(.75) brightness(.75);
}


/* ---------- TEAM tiles (if you want them ALSO match portrait ratio) ---------- */
.teamHeroCard{
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 5;          /* MATCH portraits */
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(10,12,22,.65);
}

.teamHeroArt{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: cover;
  object-position: center;
  display:block;
}

.teamHeroShade{
  position:absolute;
  inset:0;
  background:
    radial-gradient(120% 90% at 30% 10%, rgba(255,255,255,.08), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.12) 0%, rgba(0,0,0,.55) 60%, rgba(0,0,0,.80) 100%);
}

.teamHeroOverlay{
  position:absolute;
  inset:0;
  z-index: 2;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  padding: 12px;
}

.teamHeroName{
  font-weight: 800;
  text-shadow: 0 10px 22px rgba(0,0,0,.9);
}
/* === HERO TILE (single source of truth) === */

.tilePickBtn{
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 5;
  padding: 8px 10px;
  border-radius: 12px;
}

.tilePickBtn:disabled{
  opacity: .55;
  pointer-events: none;
}

.heroTile{
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 5;
  border-radius: var(--tileR, 16px);
  overflow: hidden;
  border: 1px solid color-mix(in oklab, var(--glow, #7aa2ff) 35%, transparent);
  background: color-mix(in oklab, #0b1020 92%, var(--glow, #7aa2ff));
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  padding: 0;
  display: block;
  cursor: pointer;
}

.heroTile__img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.02);
}

.heroTile__shade{
  position: absolute;
  inset: 0;
  background:
    linear-gradient(to top, rgba(0,0,0,.70), rgba(0,0,0,.05) 55%, rgba(0,0,0,.15));
  pointer-events: none;
}

.heroTile__meta{
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: 10px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-align: left;
  pointer-events: none;
}

.heroTile__name{
  font-weight: 800;
  letter-spacing: .2px;
  font-size: 14px;
  text-shadow: 0 2px 12px rgba(0,0,0,.7);
}

.heroTile__sub{
  font-size: 12px;
  opacity: .85;
}

.heroTile__badge{
  position: absolute;
  top: 10px;
  left: 10px;
  padding: 6px 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(8px);
  pointer-events: none;
}

.heroTile.isSelected{
  outline: 2px solid color-mix(in oklab, var(--glow, #7aa2ff) 80%, white);
  outline-offset: 2px;
}

.heroTile.isLocked{
  filter: saturate(.7) brightness(.9);
}

.heroTile__lock{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(6px);
  display: grid;
  place-items: center;
  pointer-events: none;
}

.heroTile__lockText{
  padding: 10px 12px;
  border-radius: 12px;
  font-weight: 900;
  letter-spacing: .8px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.55);
}

/* Variants (same markup, different sizing) */
.heroTile--team{ border-radius: var(--tileRTeam, 14px); }
.heroTile--picker{ border-radius: var(--tileRPicker, 14px); }
